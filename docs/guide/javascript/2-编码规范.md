# 编码规范

## 缩进

代码没有缩进基本上就不能读了。唯一糟糕的事情就是不一致的缩进，因为它看上去像是遵循了规范，但是可能一路上伴随着混乱和惊奇。重要的是规范地使用缩进。

一些开发人员更喜欢用tab制表符缩进，因为任何人都可以调整他们的编辑器以自己喜欢的空格数来显示Tab。有些人喜欢空格——通常四个，这都无所谓，只要团队每个人都遵循同一个规范就好了。例如，使用四个空格缩进，这也是`JSLint`中默认的缩进。

```js
function outer(a, b) {
  var c = 1,
  d = 2,
  inner;
  if (a > b) {
    inner = function () {
    return {
      r: c - d
    };
  };
  } else {
    inner = function () {
      return {
        r: c + d
      };
    };
  }
  return inner;
}
```

## 花括号

```js
// 糟糕的实例
for (var i = 0; i < 10; i += 1)
  alert(i);

// 好的实例
for (var i = 0; i < 10; i += 1) {
  alert(i);
}
```

## 左花括号的位置

这个实例中，仁者见仁智者见智，但也有个案，括号位置不同会有不同的行为表现。这是因为分号插入机制(semicolon insertion mechanism)——`JavaScript`是不挑剔的，当你选择不使用分号结束一行代码时`JavaScript`会自己帮你补上。这种行为可能会导致麻 烦，如当你返回对象字面量，而左括号却在下一行的时候

```js
// 警告： 意外的返回值
function func() {
    return
    // 下面代码不执行
    {
        name : "Batman"
    }
}

// 警告： 意外的返回值
function func() {
    return undefined;
    // 下面代码不执行
    {
        name : "Batman"
    }
}
```

## 空格

空格的使用同样有助于改善代码的可读性和一致性。在写英文句子的时候，在逗号和句号后面会使用间隔。在JavaScript中，你可以按照同样的逻辑在列表模样表达式（相当于逗号）和结束语句（相对于完成了“想法”）后面添加间隔。

::: tip 适合使用空格的地方包括：
- for循环分号分开后的的部分：如
```js
for (var i = 0; i < 10; i += 1) {...}
```
- for循环中初始化的多变量(i和max)：
```js
- for (var i = 0, max = 10; i < max; i += 1) {...}
```
- 分隔数组项的逗号的后面：
```js
var a = [1, 2, 3];
```  
- 对象属性逗号的后面以及分隔属性名和属性值的冒号的后面：
```js
var o = {a: 1, b: 2};
```
- 限定函数参数：
```js
myFunc(a, b, c)
```
- 函数声明的花括号的前面：
```js
function myFunc() {}
```
- 匿名函数表达式function的后面：
```js
var myFunc = function () {};
```
:::

使用空格分开所有的操作符和操作对象是另一个不错的使用，这意味着在`+`, `-`, `*`, `=`, `<`, `>`, `<=`, `>=`, `===`, `!==`, `&&`, `||`, `+=`等前后都需要空格。

```js
// 宽松一致的间距
// 使代码更易读
// 使得更加“透气”
var d = 0,
    a = b + 1;
if (a && b && c) {
    d = a % c;
    a += d;
}

// 反面例子
// 缺失或间距不一
// 使代码变得疑惑
var d = 0,
    a = b + 1;
if (a&&b&&c) {
    d=a % c;
    a+= d;
}
```

**最后需要注意的一个空格——花括号间距。最好使用空格：**

- 函数、`if-else`语句、循环、对象字面量的左花括号的前面(`{`)

- `else`或`while`之间的右花括号(`}`)

```js
//{} 空格
if (4) {  
  console.log(1)
} else if (3) {
  console.log(1)
}
var a = {}
```

